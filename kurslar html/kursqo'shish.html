<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurs qo'shish</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
        integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
        crossorigin="anonymous"></script>
        <script src="httpService.js"></script>
</head>

<body>

    <div class="container">
        <form name="myForm" style="padding: 50px;">
             <h2>Kurs qo'shish</h2>
            <div class="form-group">
                <label for="name">Kurs Nomini Kiriting:</label>
                <input type="text" class="form-control" id="name" placeholder="Kurs nomi " name="name" required>
            </div>
            <div class="form-group">
                <label for="cost">Kurs Narxini Kiriting</label>
                <input type="text" class="form-control" id="cost" placeholder="Narxi " name="cost" required>
            </div>
            <div class="form-group">
                <label for="cost">Kurs rasm manzili</label>
                <input type="text" class="form-control" id="rasm" placeholder="rasmi" name="rasm" required>
            </div>

            <div class="form-group" style="margin-top: 20px;">
                <label for="comment">Kurs Malumotlarini Kiriting:</label>
                <textarea class="form-control" rows="5" id="comment" placeholder="Kurs haqida malumotar" name="bio" required></textarea>
            </div>
            <button type="button" class="btn btn-primary" onclick="add()">Qo'shish</button>
        </form>
    </div>

    <script>
        function add() {
            let formMalumot = new FormData(document.forms['myform']);

            let newPost= {
                "title": formMalumot.get('name'),
                "about": formMalumot.get('about'),
                "price": formMalumot.get('cost'),
                "imageUrl": formMalumot.get('rasm'),

            }

            http.post("/api/courses", JSON.stringify(newPost), function () {
                
                if(this.readyState == 4 && this.status == 201){
                  console.log("Muvaffaqiyatili", this.response)

                 } else {
                     if(this.status == 400){
                         console.log('Xato')
                     }
                 }

            });
           }

    </script>

</body>

</html>